hola <- function(cosa) print(cosa)
hola()
hola("arroz")
install.packages("tidyverse")
shiny::runApp('Projects/Personal/KPIsHealth/KPIsHealth')
install.packages(c("shinythemes", "shiny", "R.utils", "DT"))
install.packages(c("forecast", "strucchange", "ggplot2", "readr", "ggrepel", "dlm"))
install.packages(c("gridExtra", "magrittr"))
shiny::runApp('Projects/Personal/KPIsHealth/KPIsHealth')
install.packages("purrrlyr")
library(purrrlyr)
runApp('Projects/Personal/KPIsHealth/KPIsHealth')
runApp('Projects/Personal/KPIsHealth/KPIsHealth')
install.packages("RJDBC")
?install.packages
install.packages("C:/Users/MB75168/Downloads/teradataR_1.1.0.tar.gz", repos=NULL,type="source");
.jaddClassPath("path/terajdbc4.jar")
library(teradataR)
tdConnect("KLARMXPW_PAC","MB71767","petla77a","sys_calendar","jdbc")
library(RJDBC)
library(RJDBC)
install.packages("rJava")
library(RJDBC)
library(RJDBC)
library(RJDBC)
library(RJDBC)
install.packages("rJava")
library(RJDBC)
system("java -version")
library(RJDBC)
if(Sys.getenv("JAVA_HOME")!=""){
Sys.setenv(JAVA_HOME="")
}
library(RJDBC)
library(RJDBC)
tdConnect("KLARMXPW_PAC","MB71767","petla77a","sys_calendar","jdbc")
library(teradataR)
tdConnect("KLARMXPW_PAC","MB71767","petla77a","sys_calendar","jdbc")
.jaddClassPath("path/terajdbc4.jar")
.jaddClassPath("path/tdgssconfig.jar")
tdConnect("KLARMXPW_PAC","MB71767","petla77a","sys_calendar","jdbc")
?tdConnect
tdConnect("150.100.151.47","MB71767","petla77a","sys_calendar","jdbc")
tdConnect("150.100.151.47","MB71767","petla77a","sys_calendar","jdbc")
?.jfindClass
tdConnect("150.100.151.47","MB71767","petla77a","sys_calendar","jdbc")
tdConnect("150.100.151.47","MB71767","petla77a","sys_calendar","jdbc")
tdConnect(
dsn = "150.100.151.47",
uid = "MB71767",
pwd = "petla77a",
dType = "jdbc"
)
tdConnect(
dsn = 150.100.151.47,
uid = "MB71767",
pwd = "petla77a",
dType = "jdbc"
)
"
tdConnect(
dsn = "150.100.151.47",
uid = "MB71767",
pwd = "petla77a",
dType = "jdbc"
)
tdConnect(
dsn = "150.100.151.47",
uid = "MB71767",
pwd = "petla77a",
dType = "jdbc"
)
install.packages("RODBC")
library(RODBC)
ch <- odbcConnect(dsn="150.100.151.47",uid="MB71767",pwd="petla77a")
ch <- odbcConnect(dsn="TDMX03",uid="MB71767",pwd="petla77a")
ch <- odbcConnect(dsn="150.100.151.47",uid="MB71767",pwd="petla77a")
ch <- odbcConnect(dsn="150.100.151.57",uid="MB71767",pwd="petla77a")
formula <- AWARENESS ~ .
toString(formula[3])
gsub(" ", "", toString(formula[3]))
repl("+0", gsub(" ", "", toString(formula[3])))
grepl("+0", gsub(" ", "", toString(formula[3])))
include_intercept <- grepl("+0", gsub(" ", "", toString(formula[3])))
remove_intercept <- grepl("+0", gsub(" ", "", toString(formula[3])))
remove_intercept
formula <- AWARENESS ~ . + 0
remove_intercept <- grepl("+0", gsub(" ", "", toString(formula[3])))
remove_intercept
options(repos = getOption("repos")["CRAN"])
install.packages("clipr")
library(clipr)
read_clip()
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
library(readr)
brand_awareness_investment <- read_csv("brand_awareness_investment.csv")
View(brand_awareness_investment)
library(lubridate)
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
View(brand_awareness_investment)
bai_calibration <- brand_awareness_investment %>%
filter(year(weeks) < 2016)
View(bai_calibration)
View(bai_calibration)
View(brand_awareness_investment)
model <- lm(awareness ~ ., data = bai_calibration)
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
bai_calibration <- brand_awareness_investment %>%
filter(year(weeks) < 2016)
model <- lm(awareness ~ ., data = bai_calibration)
summary(model)
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
bai_calibration <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = bai_calibration)
summary(model)
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
predict(model, newdata = test_bai)
test_bai$awareness - predict(model, newdata = test_bai)
plot(test_bai$awareness - predict(model, newdata = test_bai))
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks)) %>%
select(-competitor2)
View(brand_awareness_investment)
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks)) %>%
select(-competitor2)
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
plot(test_bai$awareness - predict(model, newdata = test_bai))
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks)) %>%
select(-competitor2)
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
plot(test_bai$awareness - predict(model, newdata = test_bai))
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
plot(test_bai$awareness - predict(model, newdata = test_bai))
model <- lm(awareness ~ ., data = brand_awareness_investment %>% select(-weeks))
summary(model)
plot(brand_awareness_investment$awareness - predict(model))
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
plot(train_bai$awareness - predict(model))
# model <- lm(awareness ~ ., data = brand_awareness_investment %>% select(-weeks))
# summary(model)
# plot(brand_awareness_investment$awareness - predict(model))
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks)) %>%
mutate(awareness = diff(awareness))
?diff
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks)) %>%
mutate(awareness = c(0,diff(awareness)))
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
plot(train_bai$awareness - predict(model))
model <- lm(awareness ~ .*0, data = train_bai)
summary(model)
plot(train_bai$awareness - predict(model))
cor(train_bai$awareness, predict(model))
cor(train_bai$awareness, predict(model))^2
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ .*0, data = train_bai)
summary(model)
plot(train_bai$awareness - predict(model))
cor(train_bai$awareness, predict(model))^2
# model <- lm(awareness ~ ., data = brand_awareness_investment %>% select(-weeks))
# summary(model)
# plot(brand_awareness_investment$awareness - predict(model))
library(readr)
library(dplyr)
library(lubridate)
setwd("C:/Users/MB75168/Documents/Projects/Personal/Thesis/Applications/MarketResearch")
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
View(brand_awareness_investment)
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ .*0, data = train_bai)
summary(model)
cor(train_bai$awareness, predict(model))^2
model <- lm(awareness ~ ., data = train_bai)
summary(model)
plot(train_bai$awareness - predict(model))
cor(train_bai$awareness, predict(model))^2
df <- data_frame(
weeks = brand_awareness_investment$weeks,
original = train_bai$awareness,
predicted = predict(model)
)
df <- data_frame(
weeks = brand_awareness_investment$weeks[1:105],
original = train_bai$awareness,
predicted = predict(model)
)
View(df)
df <- data_frame(
weeks = brand_awareness_investment$weeks[1:105],
original = train_bai$awareness,
predicted = predict(model)
) %>%
gather(awareness, -weeks)
library(tidyr)
df <- data_frame(
weeks = brand_awareness_investment$weeks[1:105],
original = train_bai$awareness,
predicted = predict(model)
) %>%
gather(awareness, -weeks)
df <- data_frame(
weeks = brand_awareness_investment$weeks[1:105],
original = train_bai$awareness,
predicted = predict(model)
) %>%
gather(awareness, value, -weeks)
library(ggplot2)
ggplot(data = df, aes(x = weeks, colour = awareness)) +
geom_line(aes(y = value))
df <- data_frame(
weeks = brand_awareness_investment$weeks,
original = brand_awareness_investment$awareness,
predicted = predict(model, newdata = brand_awareness_investment)
) %>%
gather(awareness, value, -weeks)
ggplot(data = df, aes(x = weeks, colour = awareness)) +
geom_line(aes(y = value))
model <- lm(awareness ~ ., data = tbrand_awareness_investment %>% select(-weeks))
model <- lm(awareness ~ ., data = brand_awareness_investment %>% select(-weeks))
summary(model)
df <- data_frame(
weeks = brand_awareness_investment$weeks,
original = brand_awareness_investment$awareness,
predicted = predict(model, newdata = brand_awareness_investment)
) %>%
gather(awareness, value, -weeks)
ggplot(data = df, aes(x = weeks, colour = awareness)) +
geom_line(aes(y = value))
library(readr)
library(dplyr)
library(tidyr)
library(lubridate)
library(ggplot2)
local_path <- "C:/Users/MB75168/Documents/Projects/Personal/"
setwd(paste0(local_path,"Thesis/Applications/MarketResearch/"))
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
View(brand_awareness_investment)
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
model <- lm(awareness ~ ., data = brand_awareness_investment %>% select(-weeks))
model <- lm(awareness ~ ., data = train_bai)
summary(model)
df <- data_frame(
weeks = brand_awareness_investment$weeks,
original = brand_awareness_investment$awareness,
predicted = predict(model, newdata = brand_awareness_investment)
) %>%
gather(awareness, value, -weeks)
compare_lr_prediction <- data_frame(
weeks = brand_awareness_investment$weeks,
original = brand_awareness_investment$awareness,
predicted = predict(model, newdata = brand_awareness_investment)
) %>%
gather(awareness, value, -weeks)
ggplot(data = compare_lr_prediction, aes(x = weeks, colour = awareness)) +
geom_line(aes(y = value))
set.seed(2017)
library(devtools)
install_github("opardo/GPDPQuantReg")
library(GPDPQuantReg)
library(readr)
library(dplyr)
library(tidyr)
library(lubridate)
library(ggplot2)
# Define local_path where the repo lives (user dependent)
local_path <- "C:/Users/MB75168/Documents/Projects/Personal/"
# Import utils
# source(paste0(local_path,"Thesis/Applications/Simulation/utils.R"), local = TRUE)
# Setwd for simple function and simple error folder
setwd(paste0(local_path,"Thesis/Applications/MarketResearch/"))
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
compare_lr_prediction <- data_frame(
weeks = brand_awareness_investment$weeks,
original = brand_awareness_investment$awareness,
predicted = predict(model, newdata = brand_awareness_investment)
) %>%
gather(awareness, value, -weeks)
ggplot(data = compare_lr_prediction, aes(x = weeks, colour = awareness)) +
geom_line(aes(y = value))
set.seed(2017)
GPDP_500 <- GPDPQuantReg(awareness ~ ., train_bai, p = 0.500, d_DP = 2, d_lambda = 2)
install.packages("devtools")
library(devtools)
install_github("opardo/GPDPQuantReg")
library(GPDPQuantReg)
library(readr)
library(dplyr)
library(tidyr)
library(lubridate)
library(ggplot2)
# Define local_path where the repo lives (user dependent)
local_path <- "C:/Users/MB75168/Documents/Projects/Personal/"
# Import utils
# source(paste0(local_path,"Thesis/Applications/Simulation/utils.R"), local = TRUE)
# Setwd for simple function and simple error folder
setwd(paste0(local_path,"Thesis/Applications/MarketResearch/"))
brand_awareness_investment <- read_csv("brand_awareness_investment.csv") %>%
mutate(weeks = dmy(weeks))
train_bai <- brand_awareness_investment %>%
filter(year(weeks) < 2016) %>%
select(-weeks)
test_bai <- brand_awareness_investment %>%
filter(year(weeks) == 2016) %>%
select(-weeks)
model <- lm(awareness ~ ., data = train_bai)
summary(model)
compare_lr_prediction <- data_frame(
weeks = brand_awareness_investment$weeks,
original = brand_awareness_investment$awareness,
predicted = predict(model, newdata = brand_awareness_investment)
) %>%
gather(awareness, value, -weeks)
ggplot(data = compare_lr_prediction, aes(x = weeks, colour = awareness)) +
geom_line(aes(y = value))
set.seed(2017)
GPDP_500 <- GPDPQuantReg(awareness ~ ., train_bai, p = 0.500, d_DP = 2, d_lambda = 2)
